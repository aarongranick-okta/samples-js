<html>

<head>
  <!-- Latest CDN production Javascript and CSS -->
  <script src="https://global.oktacdn.com/okta-signin-widget/3.2.0/js/okta-sign-in.min.js"
    type="text/javascript"></script>

  <link href="https://global.oktacdn.com/okta-signin-widget/3.2.0/css/okta-sign-in.min.css" type="text/css"
    rel="stylesheet" />

  <script src="/config.js" type="text/javascript"></script>
</head>

<body>
  <p>Here i am</p>

  <div id="widget-container"></div>

  <script>
    // var signIn = new OktaSignIn({baseUrl: oktaConfig.BASE_URL});
    // signIn.renderEl({
    //   el: '#widget-container'
    // }, function success(res) {
    //   if (res.status === 'SUCCESS') {
    //     console.log('Do something with this sessionToken', res.session.token);
    //   } else {
    //   // The user can be in another authentication state that requires further action.
    //   // For more information about these states, see:
    //   //   https://github.com/okta/okta-signin-widget#rendereloptions-success-error
    //   }
    // });


    // var signIn = new OktaSignIn({
    //   baseUrl: oktaConfig.BASE_URL,
    //   el: '#widget-container',
    //   authParams: {
    //     issuer: oktaConfig.BASE_URL + '/oauth2/default'
    //   }
    // });

    // signIn.showSignInToGetTokens({
    //   clientId: oktaConfig.CLIENT_ID,

    //   // must be in the list of redirect URIs enabled for the OIDC app
    //   redirectUri: window.location.href + '/implicit/callback',

    //   // Return an access token from the authorization server
    //   getAccessToken: true,

    //   // Return an ID token from the authorization server
    //   getIdToken: true,â€‹
    //   scope: 'openid profile'
    // });


    var signIn = new OktaSignIn({
      baseUrl: oktaConfig.BASE_URL,
      el: '#widget-container',
      authParams: {
        issuer: oktaConfig.BASE_URL + '/oauth2/default'
      }
    });

    signIn.showSignInToGetTokens({
      clientId: oktaConfig.CLIENT_ID,

      // must be in the list of redirect URIs enabled for the OIDC app
      redirectUri: window.location.href + 'implicit/callback',

      // Return an access token from the authorization server
      getAccessToken: true,

      // Return an ID token from the authorization server
      getIdToken: true,
      scope: 'openid profile'
    });
  </script>

</body>

</html>